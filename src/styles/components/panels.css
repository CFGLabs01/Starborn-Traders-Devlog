/* Styles for future Ship Preview Popup & Character Details Modal */

/* Full-screen backdrop (shared) - Ensure .modal-backdrop class is used in JSX */
.modal-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: var(--z-modal-backdrop);
  background-color: rgba(var(--rgb-rich-black), 0.2) !important; /* Test with !important */
  backdrop-filter: blur(5px) !important; /* Test with !important */
  /* backdrop-filter: blur(12px); */ /* TEMPORARILY COMMENTED OUT */
  /* -webkit-backdrop-filter: blur(12px); */ /* TEMPORARILY COMMENTED OUT */
  /* padding: var(--spacing-md); */ /* TEMPORARILY COMMENTED OUT */
}

/* Frosted, edged popup panel (Character Details, potentially others) */
.popup-panel {
  /* Base appearance styles for panels */
  /* Position is now handled by Framer Motion for the modal */
  overflow: hidden; 
  pointer-events: all;
  /* Base gradient (subtle) - Commented out to allow Tailwind bg */
  /* background-image: linear-gradient(135deg, 
      rgba(var(--rgb-midnight-green), 0.25) 0%, 
      rgba(var(--rgb-dark-cyan), 0.15) 50%, 
      rgba(var(--rgb-tiffany-blue), 0.1) 100%); */
  border-radius: 16px;
  /* Padding is applied to inner content now */
  padding: 0; 
  color: var(--color-text-primary); 
  /* backdrop-filter: blur(8px); - Commented out to allow Tailwind backdrop-filter */
  /* -webkit-backdrop-filter: blur(8px); */
  box-shadow: var(--shadow-lg), var(--glow-primary);
  transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 0.3s ease;
  font-family: var(--font-primary); 
  width: clamp(300px, 90vw, 1200px); 
  max-height: 90vh; 
  z-index: var(--z-modal); 
  /* border: 1px solid rgba(var(--rgb-tiffany-blue), 0.3); - Commented out to allow Tailwind border */
  position: relative; /* Needed for absolute pseudo-elements */
}

/* Removed #character-details-modal rule */

/* ::before: Vertical gradient + inner mask border - Commented out */
/*
.popup-panel::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  z-index: 1; // Above base background, below edge fade 
  background: linear-gradient(
    to top,
    rgba(var(--rgb-rich-black,2,6,23), 0.5) 0%,
    rgba(var(--rgb-dark-cyan), 0.4) 40%,
    rgba(var(--rgb-tiffany-blue), 0.2) 75%,
    rgba(var(--rgb-accent-red, 231, 111, 81), 0.3) 100% 
  );
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  padding: 1.5px; // border thickness 
}
*/

/* ::after: Hex-pattern overlay - moved below edge fade - Commented out */
/*
.popup-panel::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='34.5' viewBox='0 0 30 34.5'%3E%3Cpath d='M15 0l15 8.66v17.32L15 34.5 0 25.98V8.66L15 0z M6.34 12.07l-1.73.99v5.19l1.73.99L15 24.42l8.66-5.19 1.73-.99v-5.19l-1.73-.99L15 6.93l-8.66 5.14z' fill='rgb(var(--rgb-tiffany-blue))' fill-opacity='0.12'/%3E%3C/svg%3E");
  background-size: 30px 34.5px;
  mix-blend-mode: overlay;
  opacity: 0.5;
  z-index: 0; // Base layer 
  pointer-events: none;
  filter: blur(1px);
}
*/

/* New pseudo-element for Edge Fade */
.popup-panel > *:first-child::before { /* Target ::before of the direct child */
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit; /* Match panel rounding */
  /* Radial gradient: transparent center -> dark edges */
  background: radial-gradient(
    ellipse at center, 
    rgba(var(--rgb-space-deep, 4, 26, 49), 0) 40%, /* Center transparent */
    rgba(var(--rgb-space-deep, 4, 26, 49), 0.7) 90% /* Edges darker/opaque */
  );
  pointer-events: none;
  z-index: 2; /* Above border gradient, below content */
}

/* Ensure text/content sits above all layers and handles scrolling */
.popup-panel-content {
  position: relative;
  z-index: 3; /* Highest level, above edge fade */
  height: 100%; 
  max-height: 90vh; /* Match panel max-height */
  overflow-y: auto; 
  padding: 2rem; /* Apply padding here now */
  color: var(--color-text-primary);
  font-size: clamp(0.9rem, 1vw + 0.5rem, 1.1rem); 
  line-height: 1.5;
}

/* Placeholder for other panel styles */
/* ... */ 

/* Custom styles for the Character Detail Panel - REMOVED */
/* 
.character-detail-panel {
  background-color: rgba(30, 41, 59, 0.7); // Equivalent to bg-slate-800/70 
  border: 1px solid rgba(51, 65, 85, 0.5); // Equivalent to border-slate-700/50 
  backdrop-filter: blur(8px); // Tailwind's backdrop-blur-md is 12px, using 8px to test 
  -webkit-backdrop-filter: blur(8px);
}
*/ 